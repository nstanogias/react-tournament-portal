(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{67:function(n,t,e){"use strict";e.r(t);var r,a,o=e(5),c=e(3),i=e(0),u=e(17),d=e.n(u),p=e(12),s=e(4),l=e(37),b={palette:{primary:{main:"#FF5500",light:"#FD6E35",dark:"#CC4400"},secondary:{main:"#FF5500",light:"#FD6E35",dark:"#CC4400"},attention:{main:"#D64242",light:"#F04A4A",dark:"BD3A3A"},background:{body:"#161616",base:"#1F1F1F",alt1:"#303030",alt2:"#484848"},text:{primary:"#FFF"}},spacing:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat(4*n,"px")},borderRadius:"4px",typography:{h1:{"font-weight":"bold","font-size":"68px"},h2:{"font-weight":"bold","font-size":"50px"},h3:{"font-weight":"bold","font-size":"38px"},h4:{"font-weight":"bold","font-size":"28px"},h5:{"font-weight":"bold","font-size":"22px"},h6:{"font-weight":"bold","font-size":"16px"},body:{"font-weight":"normal","font-size":"14px"},button:{"font-weight":"bold","font-size":"14px","text-transform":"uppercase"}}},f=b,j=Object(s.a)(r||(r=Object(c.a)(["\n  ",";\n\n  body {\n    font-family: 'Play';\n    background: ",";\n    color: ",";\n    ",";\n  }\n"])),l.a,f.palette.background.body,f.palette.text.primary,f.typography.body),O=e(20),h=e(36),T=e(21);!function(n){n.GET_TOURNAMENTS_START="GET_TOURNAMENTS_START",n.GET_TOURNAMENTS_SUCCESS="GET_TOURNAMENTS_SUCCESS",n.GET_TOURNAMENTS_ERROR="GET_TOURNAMENTS_ERROR",n.ADD_TOURNAMENT="ADD_TOURNAMENT",n.DELETE_TOURNAMENT="DELETE_TOURNAMENT",n.UPDATE_TOURNAMENT="UPDATE_TOURNAMENT"}(a||(a={}));var m,g,E,x,y,N,R,A={tournaments:[],loading:!1,error:null},v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.GET_TOURNAMENTS_START:return Object(o.a)(Object(o.a)({},n),{},{loading:!0});case a.GET_TOURNAMENTS_SUCCESS:return Object(o.a)(Object(o.a)({},n),{},{loading:!1,tournaments:t.payload});case a.GET_TOURNAMENTS_ERROR:return{loading:!1,tournaments:Object(T.a)(n.tournaments),error:t.payload};case a.ADD_TOURNAMENT:return Object(o.a)(Object(o.a)({},n),{},{tournaments:[].concat(Object(T.a)(n.tournaments),[t.payload])});case a.UPDATE_TOURNAMENT:return Object(o.a)(Object(o.a)({},n),{},{tournaments:n.tournaments.map((function(n){return n.id===t.payload.id?Object(o.a)(Object(o.a)({},n),t.payload):n}))});case a.DELETE_TOURNAMENT:return Object(o.a)(Object(o.a)({},n),{},{tournaments:n.tournaments.filter((function(n){return n.id!==t.payload}))});default:return n}},_=Object(O.b)(v,Object(O.a)(h.a)),U=s.b.div(m||(m=Object(c.a)(["\n  max-width: 960px;\n  margin-top: ",";\n  margin-left: auto;\n  margin-right: auto;\n"])),f.spacing(6)),S=e(8),D={Heading4:s.b.h4(g||(g=Object(c.a)(["\n  ",";\n  margin: 0;\n  margin-bottom: ",";\n"])),f.typography.h4,f.spacing(6)),Heading6:s.b.h6(E||(E=Object(c.a)(["\n  ",";\n  margin: 0;\n  margin-bottom: ",";\n"])),f.typography.h6,f.spacing(4)),Paragraph:s.b.p(x||(x=Object(c.a)([""]))),CenteredTextWrapper:s.b.div(y||(y=Object(c.a)(["\n  margin-top: 16px;\n  display: flex;\n  p {\n    margin: auto;\n  }\n"])))},w=e(1);!function(n){n.H4="h4",n.H6="h6",n.DEFAULT="default"}(R||(R={}));var C,M,k,F,G,z=(N={},Object(S.a)(N,R.H4,(function(n){return Object(w.jsx)(D.Heading4,{children:n})})),Object(S.a)(N,R.H6,(function(n){return Object(w.jsx)(D.Heading6,{children:n})})),Object(S.a)(N,R.DEFAULT,(function(n){return Object(w.jsx)(D.Paragraph,{children:n})})),N),H=function(n){var t=n.textType,e=void 0===t?"default":t,r=n.children;return z[e](r)},L=e(38),P=function(){return Object(p.b)()},Y=p.c,B=e(13),W=e(7),I=e.n(W),J=e(14),q=e.n(J),K="".concat("http://localhost:3000","/tournaments"),Q=function(n){return function(){var t=Object(B.a)(I.a.mark((function t(e){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:a.GET_TOURNAMENTS_START}),q.a.get("".concat(K)).then((function(t){var r=t.data;e({type:a.GET_TOURNAMENTS_SUCCESS,payload:r.filter((function(t){return t.name.toLowerCase().includes(n)}))})})).catch((function(n){e({type:a.GET_TOURNAMENTS_ERROR,payload:n.message})}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},V=s.b.input(C||(C=Object(c.a)(["\n  background: ",";\n  padding: ",";\n  border: none;\n  color: ",";\n"])),f.palette.background.base,f.spacing(2),f.palette.text.primary),X=function(n){var t=n.placeholder,e=Object(i.useState)(""),r=Object(L.a)(e,2),a=r[0],o=r[1],c=Object(i.useRef)(),u=P();return Object(i.useEffect)((function(){var n=setTimeout((function(){a===c.current.value&&u(Q(a))}),500);return function(){clearTimeout(n)}}),[a,c]),Object(w.jsx)(V,{ref:c,placeholder:t,onChange:function(n){return o(n.target.value)},value:a})},Z=e(19),$=e.n(Z),nn=(e(66),{Button:s.b.button(M||(M=Object(c.a)(["\n  background: transparent;\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  padding: ",";\n  ",";\n\n  &:hover {\n    border: 1px solid ",";\n    color: ",";\n  }\n\n  &:active {\n    border: 1px solid ",";\n    color: ",";\n  }\n"])),f.palette.secondary.main,f.borderRadius,f.palette.primary.main,f.spacing(2),f.typography.button,f.palette.secondary.light,f.palette.primary.light,f.palette.secondary.dark,f.palette.primary.dark)}),tn=function(n){var t=n.children,e=n.onClick;return Object(w.jsx)(nn.Button,{onClick:e,children:t})},en=s.b.div(k||(k=Object(c.a)(["\n  border-radius: 4px;\n  background: ",";\n  padding: 16px;\n\n  p {\n    margin-top: 0px;\n    margin-bottom: 0px;\n  }\n"])),f.palette.background.base),rn=s.b.div(F||(F=Object(c.a)(["\n  display: flex;\n  column-gap: 8px;\n  margin-top: 8px;\n"]))),an=s.b.div(G||(G=Object(c.a)(["\n  margin-top: 24px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 24px;\n"])));$.a.locale("en-gb");var on,cn,un=function(n){var t=n.tournament,e=n.onConfirmEdit,r=n.onConfirmDelete,a=t.name,o=t.organizer,c=t.game,i=t.participants,u=t.startDate;return Object(w.jsxs)(en,{children:[Object(w.jsx)(H,{textType:"h6",children:a}),Object(w.jsxs)(H,{children:["Organizer: ",o]}),Object(w.jsxs)(H,{children:["Game: ",c]}),Object(w.jsxs)(H,{children:["Participants: ",i.current,"/",i.max]}),Object(w.jsxs)(H,{children:["Start: ",$()(u).format("DD/MM/YYYY, HH:mm:ss")]}),Object(w.jsxs)(rn,{children:[Object(w.jsx)(tn,{onClick:function(){var n;(n=prompt("New Tournament Name:",a))&&e(n)},children:"EDIT"}),Object(w.jsx)(tn,{onClick:function(){window.confirm("Do you really want to delete this tournament?")&&r()},children:"DELETE"})]})]})},dn=s.b.div(on||(on=Object(c.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),pn=s.b.div(cn||(cn=Object(c.a)(["\n  margin-top: 48px;\n  text-align: center;\n"]))),sn=function(){var n=Y((function(n){return n.tournaments})),t=Y((function(n){return n.loading})),e=Y((function(n){return n.error})),r=P(),c=function(n){n&&r(function(n){return function(){var t=Object(B.a)(I.a.mark((function t(e){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q.a.post("".concat(K),{name:n}).then((function(n){var t=n.data;e({type:a.ADD_TOURNAMENT,payload:t})})).catch((function(n){console.log(n)}));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}(n))},i=function(n){r(function(n){return function(){var t=Object(B.a)(I.a.mark((function t(e){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q.a.put("".concat(K,"/").concat(n.id),n).then((function(t){e({type:a.UPDATE_TOURNAMENT,payload:n})})).catch((function(n){console.log(n)}));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}(n))},u=function(n){r(function(n){return function(){var t=Object(B.a)(I.a.mark((function t(e){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q.a.delete("".concat(K,"/").concat(n)).then((function(t){e({type:a.DELETE_TOURNAMENT,payload:n})})).catch((function(n){console.log(n)}));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}(n))};return Object(w.jsxs)(U,{children:[Object(w.jsx)(H,{textType:"h4",children:"Tournaments"}),Object(w.jsxs)(dn,{children:[Object(w.jsx)(X,{placeholder:"Search tournament ..."}),Object(w.jsx)(tn,{onClick:function(){return c(prompt("Tournament Name:"))},children:"CREATE TOURNAMENT"})]}),t&&Object(w.jsx)(D.CenteredTextWrapper,{children:Object(w.jsx)(H,{children:"Loading tournaments..."})}),e&&Object(w.jsxs)(pn,{children:[Object(w.jsx)(H,{children:"Something went wrong."}),Object(w.jsx)(tn,{onClick:function(){r(Q(""))},children:"RETRY"})]}),n.length>0&&Object(w.jsx)(an,{children:n.map((function(n){return Object(w.jsx)(un,{tournament:n,onConfirmEdit:function(t){return i(Object(o.a)(Object(o.a)({},n),{},{name:t}))},onConfirmDelete:function(){return u(n.id)}},n.id)}))}),0===n.length&&Object(w.jsx)(D.CenteredTextWrapper,{children:Object(w.jsx)(H,{children:"No tournaments found"})})]})};d.a.render(Object(w.jsxs)(p.a,{store:_,children:[Object(w.jsx)(j,{}),Object(w.jsx)(sn,{})]}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.8eafceb6.chunk.js.map